// ê³µí†µ í•¨ìˆ˜: ë‚ ì§œ ë³€í™˜ ë° íƒ€ìž„ìŠ¤íƒ¬í”„ ìƒì„±
const getTimestamp = (userCreatedAt) => {
    const createdAtDate = userCreatedAt
        ? (userCreatedAt.toDate ? userCreatedAt.toDate() : new Date(userCreatedAt))
        : new Date();

    const year = createdAtDate.getFullYear();
    const month = createdAtDate.getMonth() + 1;

    const createdAtTimestamp = userCreatedAt
        ? (userCreatedAt.toDate
            ? { seconds: Math.floor(userCreatedAt.toDate().getTime() / 1000), nanoseconds: 0 }
            : (userCreatedAt.seconds
                ? userCreatedAt
                : { seconds: Math.floor(new Date(userCreatedAt).getTime() / 1000), nanoseconds: 0 }))
        : { seconds: Math.floor(createdAtDate.getTime() / 1000), nanoseconds: 0 };

    return { year, month, createdAtTimestamp };
};

// ì•± ì‚¬ìš©ë²• íŠœí† ë¦¬ì–¼
export const getAppTutorialNovel = (userCreatedAt = null) => {
    const { year, month, createdAtTimestamp } = getTimestamp(userCreatedAt);

    return {
        id: 'tutorial-app',
        userId: 'system',
        title: 'ì•± ì‚¬ìš©ë²•',
        imageUrl: process.env.PUBLIC_URL + '/bookcover.png',
        year: year,
        month: month,
        weekNum: 1,
        genre: 'ë™í™”',
        content: ` ìŠ¤í† ë¦¬ í¬ì…˜ ì‚¬ìš©ë²• ðŸ“š

ì•ˆë…•í•˜ì„¸ìš”! ìŠ¤í† ë¦¬ í¬ì…˜ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤.

 ì•± ê¸°ë³¸ ì‚¬ìš©ë²•

 1. í™ˆ í™”ë©´ ë‘˜ëŸ¬ë³´ê¸° ðŸ 
- ì¼ê¸° ì“°ê¸°: ë§¤ì¼ ì¼ê¸°ë¥¼ ìž‘ì„±í•  ìˆ˜ ìžˆì–´ìš”
- AI ì†Œì„¤ ë§Œë“¤ê¸°: ì¼ê¸°ë¥¼ ëª¨ì•„ ì†Œì„¤ì„ ìƒì„±í•´ë³´ì„¸ìš”
- í¬ì…˜ ìƒì : ì†Œì„¤ ìƒì„±ì— í•„ìš”í•œ í¬ì…˜ì„ êµ¬ë§¤í•  ìˆ˜ ìžˆì–´ìš”
- í”„ë¦¬ë¯¸ì—„ í˜œíƒ: ë” ë§Žì€ ê¸°ëŠ¥ì„ ì´ìš©í•  ìˆ˜ ìžˆì–´ìš”

 2. ì¼ê¸° ìž‘ì„±í•˜ê¸° âœï¸
- í™ˆ í™”ë©´ì˜ "ì¼ê¸° ì“°ê¸°" ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”
- ì˜¤ëŠ˜ì˜ ê¸€ê°ì„ ì°¸ê³ í•´ì„œ ì¼ê¸°ë¥¼ ìž‘ì„±í•´ë³´ì„¸ìš”
- ì‚¬ì§„ë„ í•¨ê»˜ ì²¨ë¶€í•  ìˆ˜ ìžˆì–´ìš”
- ìž‘ì„±í•œ ì¼ê¸°ëŠ” "ì¼ê¸°" íƒ­ì—ì„œ í™•ì¸í•  ìˆ˜ ìžˆì–´ìš”

 3. ë‹¤ë¥¸ ì‚¬ëžŒì˜ ì†Œì„¤ ì½ê¸° ðŸ“–
- "ì†Œì„¤" íƒ­ì—ì„œ ë‹¤ì–‘í•œ ìž¥ë¥´ì˜ ì†Œì„¤ì„ ë³¼ ìˆ˜ ìžˆì–´ìš”
- ë§ˆìŒì— ë“œëŠ” ì†Œì„¤ì€ êµ¬ë§¤í•´ì„œ "ë‚´ ì„œìž¬"ì— ë³´ê´€í•  ìˆ˜ ìžˆì–´ìš”
- ì¢‹ì•„í•˜ëŠ” ìž‘ê°€ë¥¼ íŒ”ë¡œìš°í•  ìˆ˜ë„ ìžˆì–´ìš”

 4. ë§ˆì´íŽ˜ì´ì§€ í™œìš©í•˜ê¸° ðŸ‘¤
- í”„ë¡œí•„ ìˆ˜ì •, í†µê³„ í™•ì¸, ì„¤ì • ë³€ê²½ ë“±ì´ ê°€ëŠ¥í•´ìš”
- í¬ì¸íŠ¸ ì¶©ì „ ë° í¬ì…˜ êµ¬ë§¤ë„ ì—¬ê¸°ì„œ í•  ìˆ˜ ìžˆì–´ìš”

 ì‹œìž‘í•˜ê¸°

1. í™ˆ í™”ë©´ì—ì„œ "ì¼ê¸° ì“°ê¸°" ë²„íŠ¼ì„ ëˆŒëŸ¬ ì²« ì¼ê¸°ë¥¼ ìž‘ì„±í•´ë³´ì„¸ìš”
2. ì¼ê¸°ë¥¼ ìž‘ì„±í•œ í›„ "ì†Œì„¤ ìƒì„±ë²•" íŠœí† ë¦¬ì–¼ì„ í™•ì¸í•´ë³´ì„¸ìš”
3. ë‹¤ë¥¸ ì‚¬ëžŒë“¤ì˜ ì†Œì„¤ë„ êµ¬ê²½í•´ë³´ì„¸ìš”

í–‰ë³µí•œ ì¼ê¸° ìž‘ì„± ë˜ì„¸ìš”! ðŸŽ‰`,
        createdAt: createdAtTimestamp,
        isPublic: true,
        ownerName: 'ìŠ¤í† ë¦¬ í¬ì…˜',
        week: `${year}ë…„ ${month}ì›” 1ì£¼ì°¨`,
        dateRange: '',
        isTutorial: true,
        tutorialType: 'app' // ì•± ì‚¬ìš©ë²• íŠœí† ë¦¬ì–¼
    };
};

// ì†Œì„¤ ìƒì„±ë²• íŠœí† ë¦¬ì–¼
export const getNovelCreationTutorialNovel = (userCreatedAt = null) => {
    const { year, month, createdAtTimestamp } = getTimestamp(userCreatedAt);

    return {
        id: 'tutorial-novel',
        userId: 'system',
        title: 'ì†Œì„¤ ìƒì„±ë²•',
        imageUrl: process.env.PUBLIC_URL + '/bookcover2.png',
        year: year,
        month: month,
        weekNum: 1,
        genre: 'ë™í™”',
        content: `ì†Œì„¤ ìƒì„± ë°©ë²• âœ¨

ì¼ê¸°ë¥¼ ì†Œì„¤ë¡œ ë§Œë“¤ì–´ë³´ì„¸ìš”!

ì†Œì„¤ ìƒì„± ê³¼ì •

 1. ì¼ê¸° ìž‘ì„±í•˜ê¸° ðŸ“
- ìµœì†Œ 3ê°œ ì´ìƒì˜ ì¼ê¸°ê°€ í•„ìš”í•´ìš”
- ì¼ì£¼ì¼ì¹˜ ì¼ê¸°ë¥¼ ëª¨ìœ¼ë©´ ë” ì¢‹ì€ ì†Œì„¤ì„ ë§Œë“¤ ìˆ˜ ìžˆì–´ìš”
- ë§¤ì¼ ì¼ê¸°ë¥¼ ìž‘ì„±í•˜ëŠ” ìŠµê´€ì„ ê¸°ë¥´ì„¸ìš”

 2. ì†Œì„¤ ë§Œë“¤ê¸° íŽ˜ì´ì§€ë¡œ ì´ë™ ðŸš€
- í™ˆ í™”ë©´ì˜ "AI ì†Œì„¤ ë§Œë“¤ê¸°" ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”
- ë˜ëŠ” "ì†Œì„¤" íƒ­ì—ì„œ "ì´ë²ˆì£¼ ì¼ê¸° ì§„í–‰ë„"ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”

 3. ì£¼ì°¨ ì„ íƒí•˜ê¸° ðŸ“…
- ì¼ê¸°ë¥¼ ìž‘ì„±í•œ ì£¼ì°¨ë¥¼ ì„ íƒí•  ìˆ˜ ìžˆì–´ìš”
- ì¼ê¸°ê°€ 3ê°œ ì´ìƒì¸ ì£¼ì°¨ë§Œ ì„ íƒ ê°€ëŠ¥í•´ìš”
- ì§„í–‰ë„ ë°”ë¥¼ í™•ì¸í•˜ë©´ ìž‘ì„±í•œ ì¼ê¸° ê°œìˆ˜ë¥¼ ì•Œ ìˆ˜ ìžˆì–´ìš”

 4. ìž¥ë¥´ ì„ íƒí•˜ê¸° ðŸŽ­
- ë¡œë§¨ìŠ¤, íŒíƒ€ì§€, ë¯¸ìŠ¤í„°ë¦¬, ê³µí¬, ë™í™”, ì‹œëŒ€ë¬¼ ì¤‘ì—ì„œ ì„ íƒí•˜ì„¸ìš”
- ê° ìž¥ë¥´ë§ˆë‹¤ ë‹¤ë¥¸ ëŠë‚Œì˜ ì†Œì„¤ì´ ë§Œë“¤ì–´ì ¸ìš”
- í¬ì…˜ì´ ìžˆìœ¼ë©´ ë¬´ë£Œë¡œ ìƒì„±í•  ìˆ˜ ìžˆì–´ìš”

 5. ì†Œì„¤ ìƒì„±í•˜ê¸° âœ¨
- "ì†Œì„¤ ë§Œë“¤ê¸°" ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ AIê°€ ì¼ê¸°ë¥¼ ì†Œì„¤ë¡œ ë³€í™˜í•´ìš”
- ìƒì„±ì—ëŠ” ëª‡ ë¶„ ì •ë„ ê±¸ë¦´ ìˆ˜ ìžˆì–´ìš”
- ì™„ì„±ëœ ì†Œì„¤ì€ "ë‚´ ì†Œì„¤"ì—ì„œ í™•ì¸í•  ìˆ˜ ìžˆì–´ìš”
 í¬ì…˜ ì‚¬ìš©í•˜ê¸° ðŸ”®

 í¬ì…˜ì´ëž€?
- í¬ì…˜ì„ ì‚¬ìš©í•˜ë©´ ë¬´ë£Œë¡œ ì†Œì„¤ì„ ìƒì„±í•  ìˆ˜ ìžˆì–´ìš”
- ê° ìž¥ë¥´ë§ˆë‹¤ ë‹¤ë¥¸ í¬ì…˜ì´ ìžˆì–´ìš”
- í¬ì…˜ì€ í¬ì¸íŠ¸ë¡œ êµ¬ë§¤í•˜ê±°ë‚˜ í”„ë¦¬ë¯¸ì—„ íšŒì›ì€ ì£¼ê°„ ë¬´ë£Œ í¬ì…˜ì„ ë°›ì„ ìˆ˜ ìžˆì–´ìš”

 í¬ì…˜ êµ¬ë§¤í•˜ê¸°
- í™ˆ í™”ë©´ì˜ "í¬ì…˜ ìƒì " ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”
- ë§ˆì´íŽ˜ì´ì§€ì˜ "ìƒì " ë©”ë‰´ì—ì„œë„ êµ¬ë§¤í•  ìˆ˜ ìžˆì–´ìš”
- í¬ì¸íŠ¸ë¥¼ ì¶©ì „í•˜ë©´ í¬ì…˜ì„ êµ¬ë§¤í•  ìˆ˜ ìžˆì–´ìš”

 íŒ ðŸ’¡

1. ì¼ê¸°ë¥¼ ê¾¸ì¤€ížˆ ìž‘ì„±í•˜ì„¸ìš”: ì¼ê¸°ê°€ ë§Žì„ìˆ˜ë¡ ë” í’ë¶€í•œ ì†Œì„¤ì´ ë§Œë“¤ì–´ì ¸ìš”
2. ë‹¤ì–‘í•œ ë‚´ìš©ì„ ìž‘ì„±í•˜ì„¸ìš”: ê°ì •, ì‚¬ê±´, ìƒê° ë“±ì„ ë‹¤ì–‘í•˜ê²Œ ë‹´ì•„ë³´ì„¸ìš”
3. ìž¥ë¥´ë¥¼ ë°”ê¿”ë³´ì„¸ìš”: ê°™ì€ ì¼ê¸°ë¡œë„ ë‹¤ë¥¸ ìž¥ë¥´ì˜ ì†Œì„¤ì„ ë§Œë“¤ ìˆ˜ ìžˆì–´ìš”
4. í”„ë¦¬ë¯¸ì—„ì„ ì´ìš©í•˜ì„¸ìš”: ì£¼ê°„ ë¬´ë£Œ í¬ì…˜ê³¼ ë” ë§Žì€ í˜œíƒì„ ë°›ì„ ìˆ˜ ìžˆì–´ìš”

í–‰ë³µí•œ ì†Œì„¤ ë§Œë“¤ê¸° ë˜ì„¸ìš”! ðŸ“–âœ¨`,
        createdAt: createdAtTimestamp,
        isPublic: true,
        ownerName: 'ìŠ¤í† ë¦¬ í¬ì…˜',
        week: `${year}ë…„ ${month}ì›” 1ì£¼ì°¨`,
        dateRange: '',
        isTutorial: true,
        tutorialType: 'novel' // ì†Œì„¤ ìƒì„±ë²• íŠœí† ë¦¬ì–¼
    };
};

// ê¸°ì¡´ í˜¸í™˜ì„±ì„ ìœ„í•œ í•¨ìˆ˜ (ì•± ì‚¬ìš©ë²• ë°˜í™˜)
export const getTutorialNovel = (userCreatedAt = null) => {
    return getAppTutorialNovel(userCreatedAt);
};

// íŠœí† ë¦¬ì–¼ ì±…ì¸ì§€ í™•ì¸
export const isTutorialNovel = (novel) => {
    return novel?.id === 'tutorial' || novel?.id === 'tutorial-app' || novel?.id === 'tutorial-novel' || novel?.isTutorial === true;
};

